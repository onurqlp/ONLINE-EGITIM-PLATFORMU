<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AYDA Ankara Yabancı Dil Akademisi - Almanca A1 Kuru Geçiş Sınavı</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            text-align: center;
            box-sizing: border-box;
            background-color: white;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        header {
            padding: 10px;
            background-color: #1877F2; /* Üst şerit mavi */
            text-align: center;
            color: white;
        }

        header h1, header h2, header p {
            margin: 5px 0;
        }

        header img {
            width: 30px;
            vertical-align: middle;
        }

        header.small {
            padding: 5px;
            font-size: 0.8em;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        header.small p {
            margin-left: 10px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 10px;
        }

        iframe {
            width: 100%;
            height: 600px;
            margin-top: 20px;
        }

        .hidden {
            display: none;
        }

        #instruction {
            position: fixed;
            bottom: 10px;
            right: 10px;
            background-color: #28a745;
            color: white;
            padding: 10px;
            border-radius: 5px;
        }

        .personal-id {
            font-size: 1.2em;
            margin: 5px 0;
            background-color: #eee;
            padding: 8px;
            border: 1px solid #ddd;
            display: inline-block;
        }

        #form-submitted-message {
            color: green;
            font-size: 1em;
            margin-top: 10px;
        }

        form {
            margin-bottom: 5px;
        }

        label {
            margin-right: 10px;
        }

        input[type="text"],
        input[type="tel"],
        input[type="email"] {
            margin-right: 10px;
            padding: 5px;
            font-size: 1em;
        }

        #timer {
            font-size: 1.5em;
            color: red;
            margin-top: 5px;
        }

        footer {
            padding: 5px;
            background-color: #1877F2;
            color: white;
            font-size: 0.7em;
            margin-top: 10px;
        }

        .guide-message {
            color: red;
            position: fixed;
            bottom: 10px;
            left: 10px;
            background-color: lightgray;
            padding: 5px;
            border-radius: 3px;
        }

        .alert-message {
            margin-top: 10px;
            font-size: 1.1em;
            color: #28a745;
            font-weight: bold;
        }

        /* Sabit Geri Dönüş Butonları (Ayda Hızlandırması) */
        .fixed-buttons {
            position: fixed;
            top: 50%;
            right: 10px; /* Sağda sabit */
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .fixed-buttons a {
            padding: 12px 25px;
            font-size: 1rem;
            background-color: #2C5282; /* Koyu mavi butonlar */
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        .fixed-buttons a:hover {
            background-color: #144682; /* Hover'da daha koyu mavi */
            transform: translateY(-3px);
        }

        /* Medya Sorguları */
        @media only screen and (max-width: 1024px) {
            iframe {
                width: 100%;
                height: 700px;
                margin-left: 0;
            }

            .fixed-buttons a {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
        }

        @media only screen and (max-width: 768px) {
            iframe {
                width: 100%;
                height: 500px;
                margin-left: 0;
            }

            .fixed-buttons a {
                padding: 8px 15px;
                font-size: 0.8rem;
            }

            .fixed-buttons {
                right: 5px;
            }
        }
    </style>
</head>
<body>

    <header id="page-header">
        <h1>AYDA <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTH9d9Ib6rbgzHkNztQ4lQaEqKkxcpNW7yZfA&s" alt="Kitap Simgesi"></h1>
        <h2>Ankara Yabancı Dil Akademisi</h2>
        <p>Telefon: +90 (312) 123 45 67</p>
        <p>E-posta: info@aydaakademi.com</p>
    </header>

    <!-- Yeni Başlık ve Açıklama -->
    <div class="container">
        <h2>Almanca A1 Seviye Belirleme Sınavı</h2>
        <p>Bu sınav yaklaşık 50 dakika sürecektir ve Almanca dil seviyenizi belirlemek için tasarlanmıştır.</p>
        <p>Sınav sonunda seviyenize göre uygun kurslar önerilecektir.</p>
    </div>

    <!-- Bilgi Formu -->
    <div class="container" id="form-container">
        <h2>Teste Başlamak için Bilgilerinizi Girin</h2>
        <form id="userForm">
            <label for="name">Ad Soyad:</label>
            <input type="text" id="name" name="name" required><br><br>
            <label for="phone">Telefon:</label>
            <input type="tel" id="phone" name="phone" required><br><br>
            <label for="email">E-posta:</label>
            <input type="email" id="email" name="email" required><br><br>

            <!-- Opsiyonel WhatsApp Grup adı alanı -->
            <label for="whatsapp">Katıldığınız kursun WhatsApp Grup adı (Opsiyonel):</label>
            <input type="text" id="whatsapp" name="whatsapp"><br><br>

            <button type="submit">Teste Başla</button>
        </form>
        <div id="form-submitted-message" class="hidden"> Test başlıyor.</div>
    </div>

    <!-- Test ve Form -->
    <div class="container hidden" id="test-container">
        <iframe id="testIframe" src="https://www.cornelsen.de/sites/einstufungstest/EINSTUFUNGSTEST_DAF_A1_DT_48755/index.html"></iframe>

        <!-- Geri Sayım -->
        <div id="timer">50:00</div>

        <div id="instruction" class="hidden">
            Başlamak ve sorular arasında geçiş yapmak için sayfanın köşesindeki yeşil OK tuşunu kullanın.
        </div>

        <div id="result-section" class="hidden">
            <form action="https://formspree.io/f/2136kj" method="POST" id="resultForm">
                <label for="name">Ad Soyad:</label>
                <input type="text" id="formName" name="name" required>

                <label for="result">Test Sonucu:</label>
                <input type="text" id="result" name="result" required>

                <label for="personalId">Kişisel ID:</label>
                <input type="text" id="generatedPersonalId" name="personalId" required readonly>

                <button type="submit">Sonucu Gönder</button>
            </form>
        </div>

        <div id="alert-message" class="alert-message hidden">
            Lütfen adınıza oluşturulmuş bu Kişisel ID'yi bize gönderin ve indirim ile detaylı bilgilendirme alın.
        </div>
    </div>

    <!-- Sabit Geri Dönüş Butonları (Ayda Hızlandırması) -->
    <div class="fixed-buttons">
        <a href="index.html">Ana Sayfa</a>
        <a href="javascript:history.back()">Önceki Sayfa</a>
    </div>

    <footer>
        <div class="container">
            <p>© 2024 AYDA Ankara Yabancı Dil Akademisi. Tüm hakları saklıdır.</p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        const userForm = document.getElementById('userForm');
        const formContainer = document.getElementById('form-container');
        const testContainer = document.getElementById('test-container');
        const header = document.getElementById('page-header');
        const instruction = document.getElementById('instruction');
        const resultSection = document.getElementById('result-section');
        const formNameInput = document.getElementById('formName');
        const personalIdInput = document.getElementById('generatedPersonalId');
        const formSubmittedMessage = document.getElementById('form-submitted-message');
        const whatsappInput = document.getElementById('whatsapp');
        const alertMessage = document.getElementById('alert-message');
        const timerElement = document.getElementById('timer');
        const phoneInput = document.getElementById('phone');

        let generatedPersonalId = '';
        let countdown;

        function generatePersonalId() {
            const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            let id = '';
            for (let i = 0; i < 5; i++) {
                id += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            return id;
        }

        function startCountdown(duration) {
            let timeRemaining = duration; // 50 dakika = 3000 saniye
            countdown = setInterval(function () {
                let minutes = Math.floor(timeRemaining / 60);
                let seconds = timeRemaining % 60;

                seconds = seconds < 10 ? '0' + seconds : seconds;

                timerElement.textContent = `${minutes}:${seconds}`;

                if (timeRemaining <= 0) {
                    clearInterval(countdown);
                    showThanksMessage();
                }

                timeRemaining--;
            }, 1000);
        }

        userForm.addEventListener('submit', function(event) {
            event.preventDefault();

            const phoneNumber = phoneInput.value.replace(/\D/g, '');
            const randomId = generatePersonalId();
            const fullId = `${phoneNumber}_${randomId}`;
            personalIdInput.value = fullId;

            formNameInput.value = document.getElementById('name').value;

            formSubmittedMessage.classList.remove('hidden');

            if (whatsappInput.value.trim() === "") {
                alertMessage.classList.remove('hidden');
            }

            setTimeout(function() {
                formContainer.classList.add('hidden');
                testContainer.classList.remove('hidden');
                instruction.classList.remove('hidden');

                header.classList.add('small');
                header.innerHTML = '<img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTH9d9Ib6rbgzHkNztQ4lQaEqKkxcpNW7yZfA&s" alt="Kitap Simgesi">' + 
                    '<p>AYDA Ankara Yabancı Dil Akademisi | Telefon: +90 (312) 123 45 67 | E-posta: info@aydaakademi.com</p>';

                startCountdown(50 * 60);

                showResultSection();
            }, 2000);
        });

        function showResultSection() {
            resultSection.classList.remove('hidden');
        }

        function showThanksMessage() {
            document.getElementById('thanksMessage').classList.remove('hidden');
        }
    </script>

</body>
</html>
